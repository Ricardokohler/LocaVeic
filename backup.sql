-- H2 2.3.232;
;             
CREATE USER IF NOT EXISTS "SA" SALT 'd7611f737509a8bf' HASH '53ac917375d2bdb3fd9251ec6b6eee14a7727928bd48e03bd979a37382a9ecdb' ADMIN;         
CREATE MEMORY TABLE "PUBLIC"."TB_CLIENTS"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 7) NOT NULL,
    "ADDRESS" CHARACTER VARYING(255),
    "NAME" CHARACTER VARYING(255),
    "PHONE" CHARACTER VARYING(255)
);        
ALTER TABLE "PUBLIC"."TB_CLIENTS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_4" PRIMARY KEY("ID");   
-- 6 +/- SELECT COUNT(*) FROM PUBLIC.TB_CLIENTS;              
INSERT INTO "PUBLIC"."TB_CLIENTS" VALUES
(1, 'Rua das Palmeiras, 482', 'Rodrigo Souza Lima', '(11) 98765-4321'),
(2, 'Avenida Brasil, 1234', 'Ana Beatriz Machado', '(21) 99876-5432'),
(3, 'Travessa das Laranjeiras, 78', 'Carlos Eduardo Santos', '(31) 91234-5678'),
(4, U&'Rua das Ac\00e1cias, 256', 'Mariana Ferreira Costa', '(41) 98712-3456'),
(5, U&'Pra\00e7a dos Girass\00f3is, 19', 'Lucas Almeida Ribeiro', '(51) 99988-7766'),
(6, 'Rua do Sol, 350', 'Fernanda Lopes Silva', '(61) 97654-3210');       
CREATE MEMORY TABLE "PUBLIC"."TB_ORDERS"(
    "CLIENT_ID" BIGINT,
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 6) NOT NULL,
    "ORDER_MOMENT" TIMESTAMP(6),
    "RENTAL_AGENT_ID" BIGINT,
    "VEHICLE_ID" BIGINT
);     
ALTER TABLE "PUBLIC"."TB_ORDERS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_9B64" PRIMARY KEY("ID"); 
-- 5 +/- SELECT COUNT(*) FROM PUBLIC.TB_ORDERS;               
INSERT INTO "PUBLIC"."TB_ORDERS" VALUES
(1, 1, TIMESTAMP '2025-06-20 21:51:33.23314', 1, 1),
(2, 2, TIMESTAMP '2024-11-15 14:30:00', 2, 2),
(3, 3, TIMESTAMP '2026-06-30 05:06:00', 3, 3),
(5, 4, TIMESTAMP '2023-05-12 04:15:00', 5, 5),
(4, 5, TIMESTAMP '2024-10-10 05:08:00', 4, 4); 
CREATE MEMORY TABLE "PUBLIC"."TB_RENTAL_AGENTS"(
    "CONTRACT_DATE" DATE,
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 6) NOT NULL,
    "ADDRESS" CHARACTER VARYING(255),
    "NAME" CHARACTER VARYING(255),
    "PHONE" CHARACTER VARYING(255)
);       
ALTER TABLE "PUBLIC"."TB_RENTAL_AGENTS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_8" PRIMARY KEY("ID");             
-- 5 +/- SELECT COUNT(*) FROM PUBLIC.TB_RENTAL_AGENTS;        
INSERT INTO "PUBLIC"."TB_RENTAL_AGENTS" VALUES
(DATE '2003-08-17', 1, 'Avenida Paulista, 900', U&'Kl\00e9ber Luis Fonseca', '(11) 4038-2816'),
(DATE '1995-03-22', 2, 'Rua das Laranjeiras, 350', 'Mariana Alves Pereira', '(21) 99876-4321'),
(DATE '1988-12-05', 3, U&'Pra\00e7a da S\00e9, 120', 'Carlos Eduardo Gomes', '(31) 91234-5678'),
(DATE '2000-06-30', 4, 'Travessa das Flores, 78', 'Fernanda Rodrigues Silva', '(41) 98765-4320'),
(DATE '1992-11-11', 5, 'Avenida Brasil, 1500', 'Lucas Martins Souza', '(51) 97654-3210');              
CREATE MEMORY TABLE "PUBLIC"."TB_VEHICLES"(
    "PRICE_PER_HOUR" FLOAT(53) NOT NULL,
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 6) NOT NULL,
    "BRAND" CHARACTER VARYING(255),
    "MODEL" CHARACTER VARYING(255)
);   
ALTER TABLE "PUBLIC"."TB_VEHICLES" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_82" PRIMARY KEY("ID"); 
-- 5 +/- SELECT COUNT(*) FROM PUBLIC.TB_VEHICLES;             
INSERT INTO "PUBLIC"."TB_VEHICLES" VALUES
(45.0, 1, 'Fiat', 'Fiat Argo'),
(59.0, 2, 'Chevrollet de boy', 'Chrysler'),
(558.0, 3, U&'Fiat n\00e9 papai', 'Uno com escada'),
(45.6, 4, 'Nem sei n manjo de carro', U&'Monza carburad\00e3o'),
(48.6, 5, 'Fiat', 'Stilo');  
ALTER TABLE "PUBLIC"."TB_ORDERS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_9B" UNIQUE NULLS DISTINCT ("RENTAL_AGENT_ID");           
ALTER TABLE "PUBLIC"."TB_ORDERS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_9B6" UNIQUE NULLS DISTINCT ("VEHICLE_ID");               
ALTER TABLE "PUBLIC"."TB_ORDERS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_9" UNIQUE NULLS DISTINCT ("CLIENT_ID");  
ALTER TABLE "PUBLIC"."TB_ORDERS" ADD CONSTRAINT "PUBLIC"."FKKMO3QTYO4FQTJP25I8XPQB0T3" FOREIGN KEY("CLIENT_ID") REFERENCES "PUBLIC"."TB_CLIENTS"("ID") NOCHECK;               
ALTER TABLE "PUBLIC"."TB_ORDERS" ADD CONSTRAINT "PUBLIC"."FKLVGU9LCODQTK5DBA66SKT0JDF" FOREIGN KEY("RENTAL_AGENT_ID") REFERENCES "PUBLIC"."TB_RENTAL_AGENTS"("ID") NOCHECK;   
ALTER TABLE "PUBLIC"."TB_ORDERS" ADD CONSTRAINT "PUBLIC"."FK4DOUH3JMOO3C33HURLB7PI5M2" FOREIGN KEY("VEHICLE_ID") REFERENCES "PUBLIC"."TB_VEHICLES"("ID") NOCHECK;             
